mutation processWithdrawalAction($amount: Float!, $balanceAddress: String!) {
    processWithdrawalAction(amount: $amount, balanceAddress: $balanceAddress) {
        withdrawalStatus
        withdrawalId
        userId
        updateAt
        requestDate
        processedDate
        description
        createAt
        balanceAddress
        amount
    }
}

query GetWithdrawals(
    $where: WithdrawalsBoolExp = {}
    $limit: Int = 10
    $offset: Int = 0
) {
    withdrawals(
        where: $where
        limit: $limit
        offset: $offset
        orderBy: { createAt: DESC }
    ) {
        withdrawalId
        userId
        amount
        balanceAddress
        withdrawalStatus
        requestDate
        processedDate
        description
        createAt
        updateAt
        user {
            username
            email
        }
    }
    withdrawalsAggregate(where: $where) {
        aggregate {
            count
        }
    }
}
subscription WithdrawalStatus($userId: uuid!) {
    withdrawals(where: { userId: { _eq: $userId } }) {
        withdrawalId
        withdrawalStatus
        processedDate
        description
    }
}
query GetPendingWithdrawalsCount($where: WithdrawalsBoolExp!) {
    withdrawalsAggregate(where: $where) {
        aggregate {
            count
        }
    }
}
